system_controller:
  base_url: "http://127.0.0.1:8000"
  timeout_seconds: 5
  api_key: null

esp32:
  serial_port: "/dev/ttyACM0"
  baud_rate: 115200
  reconnect_delay_seconds: 3
  max_line_bytes: 2048
  read_chunk_bytes: 256
  command_timeout_seconds: 2
  command_retries: 1

antsdr:
  jsonl_path: "/opt/ndefender/logs/antsdr_engine.jsonl"
  tail_poll_interval_ms: 200

remoteid:
  jsonl_path: "/opt/ndefender/logs/remoteid_engine.jsonl"
  tail_poll_interval_ms: 200

auth:
  api_key_required: true
  api_key: "CHANGE_ME"
  rbac_enabled: true

rbac:
  roles:
    viewer:
      permissions: ["read"]
    operator:
      permissions: ["read", "device_control"]
    admin:
      permissions: ["read", "device_control", "system_control"]

safety:
  allow_unsafe_operations: false
  reboot_cooldown_seconds: 30
  shutdown_cooldown_seconds: 30

polling:
  system_controller_interval_ms: 2000
  ups_interval_ms: 2000
  network_interval_ms: 3000
  audio_interval_ms: 5000

logging:
  level: "INFO"

cors:
  allow_origins:
    - "https://www.figma.com"
    - "https://figma.com"
  allow_origin_regex: "^https://([a-z0-9-]+\\.)*figma\\.com$"
  allow_methods: ["GET", "POST", "OPTIONS"]
  allow_headers: ["Content-Type", "X-API-Key", "X-Role"]
  allow_credentials: false
  max_age: 86400

rate_limits:
  dangerous_per_minute: 2
  command_per_minute: 10

features:
  enable_antsdr: true
  enable_remoteid: true
  enable_esp32: true
