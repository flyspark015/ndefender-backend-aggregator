{
  "meta": {
    "generated_at": "2026-02-22T15:20:31Z",
    "hostname": "ndefender-pi",
    "local_base": "http://127.0.0.1:8000/api/v1",
    "public_base": "https://n.flyspark.in/api/v1"
  },
  "rest": {
    "local": [
      {
        "endpoint": "health",
        "status": 200,
        "latency_ms": 11,
        "json_ok": true,
        "snippet": "{\"status\":\"ok\",\"timestamp_ms\":1771773614451}\n"
      },
      {
        "endpoint": "status",
        "status": 200,
        "latency_ms": 579,
        "json_ok": true,
        "snippet": "{\"audio\":{\"muted\":false,\"volume_percent\":100},\"contacts\":[{\"id\":\"rf:5758000000\",\"last_seen_ts\":1771773614338,\"type\":\"UNKNOWN_RF\",\"unknown_rf\":{\"bandwidth_class\":\"narrow\",\"center_hz\":5758000000,\"family_hint\":\"unknown\",\"peak_db\":78.48525709172743,\"snr_db\":10.91887254442129}},{\"id\":\"rf:5756000000\",\"las"
      },
      {
        "endpoint": "contacts",
        "status": 200,
        "latency_ms": 6,
        "json_ok": true,
        "snippet": "{\"contacts\":[{\"id\":\"rf:5762000000\",\"last_seen_ts\":1771773614799,\"type\":\"UNKNOWN_RF\",\"unknown_rf\":{\"bandwidth_class\":\"narrow\",\"center_hz\":5762000000,\"family_hint\":\"unknown\",\"peak_db\":78.22397816307878,\"snr_db\":10.65209343080818}},{\"id\":\"rf:5760000000\",\"last_seen_ts\":1771773614547,\"type\":\"UNKNOWN_RF\","
      },
      {
        "endpoint": "system",
        "status": 200,
        "latency_ms": 8,
        "json_ok": true,
        "snippet": "{\"cpu_temp_c\":58.95,\"cpu_usage_percent\":65.01589558668702,\"disk_total_gb\":117,\"disk_used_gb\":69,\"load_15m\":6.51171875,\"load_1m\":7.89306640625,\"load_5m\":6.8505859375,\"ram_total_mb\":16215,\"ram_used_mb\":7943,\"status\":\"ok\",\"throttled_flags\":0,\"uptime_s\":356895}\n"
      },
      {
        "endpoint": "power",
        "status": 200,
        "latency_ms": 4,
        "json_ok": true,
        "snippet": "{\"current_a\":null,\"input_power_w\":null,\"input_vbus_v\":null,\"pack_voltage_v\":null,\"per_cell_v\":null,\"soc_percent\":null,\"state\":null,\"status\":\"degraded\",\"time_to_empty_s\":null,\"time_to_full_s\":null}\n"
      },
      {
        "endpoint": "rf",
        "status": 200,
        "latency_ms": 6,
        "json_ok": true,
        "snippet": "{\"last_event\":{\"id\":\"rf:5742000000\",\"last_seen_ts\":1771773614835,\"type\":\"UNKNOWN_RF\",\"unknown_rf\":{\"bandwidth_class\":\"narrow\",\"center_hz\":5742000000,\"family_hint\":\"unknown\",\"peak_db\":79.32091218899211,\"snr_db\":11.784690213827389}},\"last_event_type\":\"CONTACT_LOST\",\"last_timestamp_ms\":1771773614835,\"s"
      },
      {
        "endpoint": "video",
        "status": 200,
        "latency_ms": 8,
        "json_ok": true,
        "snippet": "{\"selected\":1,\"status\":\"ok\"}\n"
      },
      {
        "endpoint": "services",
        "status": 200,
        "latency_ms": 111,
        "json_ok": true,
        "snippet": "[{\"active_state\":\"active\",\"name\":\"ndefender-backend\",\"restart_count\":0,\"sub_state\":\"running\"},{\"active_state\":\"active\",\"name\":\"ndefender-kiosk\",\"restart_count\":0,\"sub_state\":\"running\"},{\"active_state\":\"activating\",\"name\":\"ndefender-remoteid-engine\",\"restart_count\":101091,\"sub_state\":\"auto-restart\"},"
      },
      {
        "endpoint": "network",
        "status": 200,
        "latency_ms": 393,
        "json_ok": true,
        "snippet": "{\"connected\":true,\"ip_v4\":\"192.168.1.35\",\"ip_v6\":\"2401:4900:8fef:a440:ae02:e0f1:7805:a92e\",\"ssid\":\"Airtel_Toybook\",\"status\":\"ok\"}\n"
      },
      {
        "endpoint": "audio",
        "status": 200,
        "latency_ms": 29,
        "json_ok": true,
        "snippet": "{\"muted\":false,\"status\":\"ok\",\"volume_percent\":100}\n"
      }
    ],
    "public": [
      {
        "endpoint": "health",
        "status": 200,
        "latency_ms": 719,
        "json_ok": true,
        "snippet": "{\"status\":\"ok\",\"timestamp_ms\":1771773616232}\n"
      },
      {
        "endpoint": "status",
        "status": 200,
        "latency_ms": 1430,
        "json_ok": true,
        "snippet": "{\"audio\":{\"muted\":false,\"volume_percent\":100},\"contacts\":[{\"id\":\"rf:5776000000\",\"last_seen_ts\":1771773616598,\"type\":\"UNKNOWN_RF\",\"unknown_rf\":{\"bandwidth_class\":\"narrow\",\"center_hz\":5776000000,\"family_hint\":\"unknown\",\"peak_db\":78.97243728295835,\"snr_db\":11.391549129983488}},{\"id\":\"rf:5774000000\",\"la"
      },
      {
        "endpoint": "contacts",
        "status": 200,
        "latency_ms": 649,
        "json_ok": true,
        "snippet": "{\"contacts\":[{\"id\":\"rf:5788000000\",\"last_seen_ts\":1771773618201,\"type\":\"UNKNOWN_RF\",\"unknown_rf\":{\"bandwidth_class\":\"narrow\",\"center_hz\":5788000000,\"family_hint\":\"unknown\",\"peak_db\":78.09074623560784,\"snr_db\":10.469043781979138}},{\"id\":\"rf:5786000000\",\"last_seen_ts\":1771773617987,\"type\":\"UNKNOWN_RF\""
      },
      {
        "endpoint": "system",
        "status": 200,
        "latency_ms": 733,
        "json_ok": true,
        "snippet": "{\"cpu_temp_c\":58.95,\"cpu_usage_percent\":65.01620358820186,\"disk_total_gb\":117,\"disk_used_gb\":69,\"load_15m\":6.51171875,\"load_1m\":7.89306640625,\"load_5m\":6.8505859375,\"ram_total_mb\":16215,\"ram_used_mb\":7889,\"status\":\"ok\",\"throttled_flags\":0,\"uptime_s\":356899}\n"
      },
      {
        "endpoint": "power",
        "status": 200,
        "latency_ms": 578,
        "json_ok": true,
        "snippet": "{\"current_a\":null,\"input_power_w\":null,\"input_vbus_v\":null,\"pack_voltage_v\":null,\"per_cell_v\":null,\"soc_percent\":null,\"state\":null,\"status\":\"degraded\",\"time_to_empty_s\":null,\"time_to_full_s\":null}\n"
      },
      {
        "endpoint": "rf",
        "status": 200,
        "latency_ms": 754,
        "json_ok": true,
        "snippet": "{\"last_event\":{\"id\":\"rf:5784000000\",\"last_seen_ts\":1771773620305,\"type\":\"UNKNOWN_RF\",\"unknown_rf\":{\"bandwidth_class\":\"narrow\",\"center_hz\":5784000000,\"family_hint\":\"unknown\",\"peak_db\":79.8514995234307,\"snr_db\":12.23605654956728}},\"last_event_type\":\"CONTACT_LOST\",\"last_timestamp_ms\":1771773620305,\"sta"
      },
      {
        "endpoint": "video",
        "status": 200,
        "latency_ms": 671,
        "json_ok": true,
        "snippet": "{\"selected\":1,\"status\":\"ok\"}\n"
      },
      {
        "endpoint": "services",
        "status": 200,
        "latency_ms": 1613,
        "json_ok": true,
        "snippet": "[{\"active_state\":\"active\",\"name\":\"ndefender-backend\",\"restart_count\":0,\"sub_state\":\"running\"},{\"active_state\":\"active\",\"name\":\"ndefender-kiosk\",\"restart_count\":0,\"sub_state\":\"running\"},{\"active_state\":\"active\",\"name\":\"ndefender-remoteid-engine\",\"restart_count\":101093,\"sub_state\":\"running\"},{\"active_"
      },
      {
        "endpoint": "network",
        "status": 200,
        "latency_ms": 874,
        "json_ok": true,
        "snippet": "{\"connected\":true,\"ip_v4\":\"192.168.1.35\",\"ip_v6\":\"2401:4900:8fef:a440:ae02:e0f1:7805:a92e\",\"ssid\":\"Airtel_Toybook\",\"status\":\"ok\"}\n"
      },
      {
        "endpoint": "audio",
        "status": 200,
        "latency_ms": 1542,
        "json_ok": true,
        "snippet": "{\"muted\":false,\"status\":\"ok\",\"volume_percent\":100}\n"
      }
    ]
  },
  "ws": {
    "local": {
      "url": "ws://127.0.0.1:8000/api/v1/ws",
      "connect_ok": true,
      "msgs_received": 10,
      "first_type": "CONTACT_NEW",
      "first_200": "{\"type\":\"CONTACT_NEW\",\"timestamp\":1771773625286,\"source\":\"rf_sensor\",\"data\":{\"id\":\"rf:5840000000\",\"type\":\"UNKNOWN_RF\",\"last_seen_ts\":1771773624988,\"unknown_rf\":{\"center_hz\":5840000000,\"snr_db\":10.3617",
      "first_message": "{\"type\":\"CONTACT_NEW\",\"timestamp\":1771773625286,\"source\":\"rf_sensor\",\"data\":{\"id\":\"rf:5840000000\",\"type\":\"UNKNOWN_RF\",\"last_seen_ts\":1771773624988,\"unknown_rf\":{\"center_hz\":5840000000,\"snr_db\":10.361761468594636,\"peak_db\":77.99670493620425,\"bandwidth_class\":\"narrow\",\"family_hint\":\"unknown\"}}}",
      "envelope_valid": true,
      "error": null
    },
    "public": {
      "url": "wss://n.flyspark.in/api/v1/ws",
      "connect_ok": true,
      "msgs_received": 10,
      "first_type": "CONTACT_NEW",
      "first_200": "{\"type\":\"CONTACT_NEW\",\"timestamp\":1771773625915,\"source\":\"rf_sensor\",\"data\":{\"id\":\"rf:5846000000\",\"type\":\"UNKNOWN_RF\",\"last_seen_ts\":1771773625784,\"unknown_rf\":{\"center_hz\":5846000000,\"snr_db\":11.9564",
      "first_message": "{\"type\":\"CONTACT_NEW\",\"timestamp\":1771773625915,\"source\":\"rf_sensor\",\"data\":{\"id\":\"rf:5846000000\",\"type\":\"UNKNOWN_RF\",\"last_seen_ts\":1771773625784,\"unknown_rf\":{\"center_hz\":5846000000,\"snr_db\":11.956487832498524,\"peak_db\":79.59050522841373,\"bandwidth_class\":\"narrow\",\"family_hint\":\"unknown\"}}}",
      "envelope_valid": true,
      "error": null
    }
  },
  "cors": [
    {
      "url": "https://n.flyspark.in/api/v1/status",
      "origin": "https://www.figma.com",
      "http_status": 200,
      "allow_origin": null,
      "allow_methods": null,
      "allow_headers": null,
      "error": null
    },
    {
      "url": "https://n.flyspark.in/api/v1/status",
      "origin": "http://127.0.0.1",
      "http_status": 200,
      "allow_origin": null,
      "allow_methods": null,
      "allow_headers": null,
      "error": null
    },
    {
      "url": "https://n.flyspark.in/api/v1/ws",
      "origin": "https://www.figma.com",
      "http_status": 200,
      "allow_origin": null,
      "allow_methods": null,
      "allow_headers": null,
      "error": null
    },
    {
      "url": "https://n.flyspark.in/api/v1/ws",
      "origin": "http://127.0.0.1",
      "http_status": 200,
      "allow_origin": null,
      "allow_methods": null,
      "allow_headers": null,
      "error": null
    }
  ],
  "services": {
    "ndefender-backend": {
      "unit": "ndefender-backend",
      "active": "active",
      "substate": "running",
      "main_pid": "3950898",
      "error": null
    },
    "cloudflared": {
      "unit": "cloudflared",
      "active": "active",
      "substate": "running",
      "main_pid": "3895612",
      "error": null
    },
    "ndefender-remoteid-engine": {
      "unit": "ndefender-remoteid-engine",
      "active": "active",
      "substate": "running",
      "main_pid": "4180759",
      "error": null
    },
    "ndefender-rfscan": {
      "unit": "ndefender-rfscan",
      "active": "active",
      "substate": "running",
      "main_pid": "1335",
      "error": null
    },
    "gpsd": {
      "unit": "gpsd",
      "active": "active",
      "substate": "running",
      "main_pid": "1489",
      "error": null
    }
  },
  "commands": {
    "error": "No command endpoint found (generic: /command,/cmd,/control and direct: /vrx/tune,/scan/start,/scan/stop,/video/select)",
    "generic_endpoint_status": {
      "command": 405,
      "cmd": 405,
      "control": 405
    },
    "results": []
  },
  "subsystems": [
    {
      "name": "system_metrics",
      "status": "PASS",
      "evidence": "cpu_usage=65.01698172949492, temp=59.5"
    },
    {
      "name": "services_status",
      "status": "PASS",
      "evidence": "services_count=6"
    },
    {
      "name": "power_ups",
      "status": "DEGRADED",
      "evidence": "power fields present but null"
    },
    {
      "name": "network",
      "status": "PASS",
      "evidence": "connected=True ssid=Airtel_Toybook"
    },
    {
      "name": "rf_pipeline",
      "status": "PASS",
      "evidence": "rf_last=1771773630319 rf_sensor_state=ok"
    },
    {
      "name": "remoteid",
      "status": "DEGRADED",
      "evidence": "state=DEGRADED capture_active=True"
    },
    {
      "name": "esp32_link",
      "status": "PASS",
      "evidence": "device=/dev/ndefender-esp32"
    },
    {
      "name": "contacts_pipeline",
      "status": "PASS",
      "evidence": "contact_events=2"
    }
  ],
  "missing_status_keys": [],
  "diagnosis": {
    "public_rest_ok": true,
    "local_rest_ok": true,
    "public_ws_ok": true,
    "local_ws_ok": true
  }
}